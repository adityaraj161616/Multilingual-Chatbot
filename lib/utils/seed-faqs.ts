import { logger } from "@/lib/utils/logger"
import { FAQ } from "@/lib/models/faq.model"

/**
 * Automatic FAQ Seeding Utility
 *
 * This utility automatically seeds the database with demo FAQs
 * on first run. It checks if FAQs already exist to avoid re-seeding.
 */

export async function seedFAQsIfEmpty() {
  try {
    const faqCount = await FAQ.countDocuments()

    if (faqCount > 0) {
      logger.info("FAQs already exist. Skipping FAQ seeding.")
      return
    }

    logger.info("No FAQs found. Starting automatic FAQ seeding...")

    const sampleFAQs = [
      {
        category: "fees",
        question: {
          en: "What is the semester fee?",
          hi: "सेमेस्टर की फीस क्या है?",
          ta: "செமஸ்டர் கட்டணம் என்ன?",
          te: "సెమిస్టర్ ఫీజు ఎంత?",
          bn: "সেমিস্টার ফি কত?",
          mr: "सेमिस्टर फी किती आहे?",
        },
        answer: {
          en: "The semester fee varies by program and branch. Please select your program and branch to get the exact fee information.",
          hi: "सेमेस्टर शुल्क कार्यक्रम और शाखा के अनुसार भिन्न होता है। सटीक शुल्क जानकारी प्राप्त करने के लिए कृपया अपना कार्यक्रम और शाखा चुनें।",
          ta: "செமஸ்டர் கட்டணம் திட்டம் மற்றும் கிளையைப் பொறுத்து மாறுபடும். சரியான கட்டண தகவலைப் பெற உங்கள் திட்டம் மற்றும் கிளையைத் தேர்ந்தெடுக்கவும்.",
          te: "సెమిస్టర్ ఫీజు ప్రోగ్రామ్ మరియు బ్రాంచ్ ప్రకారం మారుతుంది. ఖచ్చితమైన ఫీజు సమాచారం కోసం దయచేసి మీ ప్రోగ్రామ్ మరియు బ్రాంచ్‌ను ఎంచుకోండి.",
          bn: "সেমিস্টার ফি প্রোগ্রাম এবং শাখার উপর নির্ভর করে পরিবর্তিত হয়। সঠিক ফি তথ্যের জন্য দয়া করে আপনার প্রোগ্রাম এবং শাখা নির্বাচন করুন।",
          mr: "सेमिस्टर फी कार्यक्रम आणि शाखेनुसार बदलते. अचूक फी माहिती मिळविण्यासाठी कृपया तुमचा कार्यक्रम आणि शाखा निवडा.",
        },
        keywords: ["fee", "semester", "payment", "tuition", "cost"],
        priority: 10,
        isActive: true,
      },
      {
        category: "timetable",
        question: {
          en: "When are the final exams?",
          hi: "अंतिम परीक्षा कब है?",
          ta: "இறுதி தேர்வுகள் எப்போது?",
          te: "చివరి పరీక్షలు ఎప్పుడు?",
          bn: "চূড়ান্ত পরীক্ষা কবে?",
          mr: "अंतिम परीक्षा कधी आहेत?",
        },
        answer: {
          en: "Final exams for the current semester are scheduled from September 10 to September 22, 2025. Select your program and semester to view the detailed timetable.",
          hi: "वर्तमान सेमेस्टर के लिए अंतिम परीक्षा 10 सितंबर से 22 सितंबर 2025 तक निर्धारित है। विस्तृत समय सारणी देखने के लिए अपना कार्यक्रम और सेमेस्टर चुनें।",
          ta: "தற்போதைய செமஸ்டருக்கான இறுதி தேர்வுகள் செப்டம்பர் 10 முதல் செப்டம்பர் 22, 2025 வரை திட்டமிடப்பட்டுள்ளன. விரிவான நேர அட்டவணையைக் காண உங்கள் திட்டம் மற்றும் செமஸ்டரைத் தேர்ந்தெடுக்கவும்.",
          te: "ప్రస్తుత సెమిస్టర్ కోసం చివరి పరీక్షలు సెప్టెంబర్ 10 నుండి సెప్టెంబర్ 22, 2025 వరకు షెడ్యూల్ చేయబడ్డాయి. వివరణాత్మక టైమ్‌టేబుల్‌ను చూడటానికి మీ ప్రోగ్రామ్ మరియు సెమిస్టర్‌ను ఎంచుకోండి.",
          bn: "বর্তমান সেমিস্টারের জন্য চূড়ান্ত পরীক্ষা 10 সেপ্টেম্বর থেকে 22 সেপ্টেম্বর, 2025 পর্যন্ত নির্ধারিত। বিস্তারিত সময়সূচী দেখতে আপনার প্রোগ্রাম এবং সেমিস্টার নির্বাচন করুন।",
          mr: "सध्याच्या सेमिस्टरसाठी अंतिम परीक्षा 10 सप्टेंबर ते 22 सप्टेंबर, 2025 दरम्यान नियोजित आहेत. तपशीलवार वेळापत्रक पाहण्यासाठी तुमचा कार्यक्रम आणि सेमिस्टर निवडा.",
        },
        keywords: ["exam", "final", "timetable", "schedule", "date"],
        priority: 9,
        isActive: true,
      },
      {
        category: "scholarships",
        question: {
          en: "What scholarships are available?",
          hi: "कौन सी छात्रवृत्तियाँ उपलब्ध हैं?",
          ta: "என்ன உதவித்தொகை கிடைக்கிறது?",
          te: "ఏ స్కాలర్‌షిప్స్ అందుబాటులో ఉన్నాయి?",
          bn: "কি বৃত্তি পাওয়া যায়?",
          mr: "कोणत्या शिष्यवृत्त्या उपलब्ध आहेत?",
        },
        answer: {
          en: "We offer multiple scholarships including Post-Matric Scholarship, Merit-Cum-Means Scholarship, Minority Scholarship, and SC/ST Scholarship. Would you like to know more about eligibility and application process?",
          hi: "हम कई छात्रवृत्तियां प्रदान करते हैं जिनमें पोस्ट-मैट्रिक छात्रवृत्ति, मेरिट-कम-मीन्स छात्रवृत्ति, अल्पसंख्यक छात्रवृत्ति, और एससी/एसटी छात्रवृत्ति शामिल हैं। क्या आप पात्रता और आवेदन प्रक्रिया के बारे में अधिक जानना चाहेंगे?",
          ta: "நாங்கள் பிந்தைய மெட்ரிக் உதவித்தொகை, தகுதி-கம்-வழிமுறைகள் உதவித்தொகை, சிறுபான்மை உதவித்தொகை மற்றும் எஸ்சி/எஸ்டி உதவித்தொகை உள்ளிட்ட பல உதவித்தொகைகளை வழங்குகிறோம். தகுதி மற்றும் விண்ணப்ப செயல்முறை பற்றி மேலும் அறிய விரும்புகிறீர்களா?",
          te: "మేము పోస్ట్-మెట్రిక్ స్కాలర్‌షిప్, మెరిట్-కమ్-మీన్స్ స్కాలర్‌షిప్, మైనారిటీ స్కాలర్‌షిప్ మరియు SC/ST స్కాలర్‌షిప్ సహా అనేక స్కాలర్‌షిప్‌లను అందిస్తాము. అర్హత మరియు దరఖాస్తు ప్రక్రియ గురించి మరింత తెలుసుకోవాలనుకుంటున్నారా?",
          bn: "আমরা পোস্ট-ম্যাট্রিক বৃত্তি, মেধা-কাম-মাধ্যম বৃত্তি, সংখ্যালঘু বৃত্তি এবং SC/ST বৃত্তি সহ একাধিক বৃত্তি প্রদান করি। আপনি কি যোগ্যতা এবং আবেদন প্রক্রিয়া সম্পর্কে আরও জানতে চান?",
          mr: "आम्ही पोस्ट-मॅट्रिक शिष्यवृत्ती, मेरिट-कम-मीन्स शिष्यवृत्ती, अल्पसंख्याक शिष्यवृत्ती आणि SC/ST शिष्यवृत्तीसह अनेक शिष्यवृत्त्या ऑफर करतो. तुम्हाला पात्रता आणि अर्ज प्रक्रियेबद्दल अधिक जाणून घ्यायचे आहे का?",
        },
        keywords: ["scholarship", "financial aid", "merit", "government", "application"],
        priority: 8,
        isActive: true,
      },
      {
        category: "circulars",
        question: {
          en: "What are the latest circulars?",
          hi: "नवीनतम परिपत्र क्या हैं?",
          ta: "சமீபத்திய சுற்றறிக்கைகள் என்ன?",
          te: "తాజా సర్క్యులర్లు ఏమిటి?",
          bn: "সর্বশেষ সার্কুলার কি?",
          mr: "नवीनतम परिपत्रके काय आहेत?",
        },
        answer: {
          en: "Latest circulars include Semester Exam Notification (exams from Sept 10), Scholarship Application Deadline (Aug 25), and Fee Payment Reminder (Aug 15). Would you like to know more details about any of these?",
          hi: "नवीनतम परिपत्रों में सेमेस्टर परीक्षा अधिसूचना (10 सितंबर से परीक्षा), छात्रवृत्ति आवेदन की अंतिम तिथि (25 अगस्त), और शुल्क भुगतान अनुस्मारक (15 अगस्त) शामिल हैं। क्या आप इनमें से किसी के बारे में अधिक विवरण जानना चाहेंगे?",
          ta: "சமீபத்திய சுற்றறிக்கைகளில் செமஸ்டர் தேர்வு அறிவிப்பு (செப் 10 முதல் தேர்வுகள்), உதவித்தொகை விண்ணப்ப கடைசி தேதி (ஆக 25) மற்றும் கட்டண செலுத்தும் நினைவூட்டல் (ஆக 15) ஆகியவை அடங்கும். இவற்றில் ஏதேனும் ஒன்றைப் பற்றி மேலும் விவரங்களை அறிய விரும்புகிறீர்களா?",
          te: "తాజా సర్క్యులర్లలో సెమిస్టర్ పరీక్ష నోటిఫికేషన్ (సెప్ 10 నుండి పరీక్షలు), స్కాలర్‌షిప్ దరఖాస్తు చివరి తేదీ (ఆగ 25) మరియు ఫీజు చెల్లింపు రిమైండర్ (ఆగ 15) ఉన్నాయి. వీటిలో దేనినైనా గురించి మరిన్ని వివరాలు తెలుసుకోవాలనుకుంటున్నారా?",
          bn: "সর্বশেষ সার্কুলারের মধ্যে রয়েছে সেমিস্টার পরীক্ষা বিজ্ঞপ্তি (সেপ্ট 10 থেকে পরীক্ষা), বৃত্তি আবেদনের সময়সীমা (আগস্ট 25) এবং ফি প্রদানের অনুস্মারক (আগস্ট 15)। আপনি কি এর মধ্যে কোনটি সম্পর্কে আরও বিস্তারিত জানতে চান?",
          mr: "नवीनतम परिपत्रकांमध्ये सेमिस्टर परीक्षा अधिसूचना (10 सप्टेंबरपासून परीक्षा), शिष्यवृत्ती अर्जाची अंतिम तारीख (25 ऑगस्ट) आणि फी पेमेंट रिमाइंडर (15 ऑगस्ट) यांचा समावेश आहे. तुम्हाला यापैकी कोणत्याही बद्दल अधिक तपशील जाणून घ्यायचे आहेत का?",
        },
        keywords: ["circular", "notification", "announcement", "notice"],
        priority: 7,
        isActive: true,
      },
      {
        category: "general",
        question: {
          en: "What are the college timings?",
          hi: "कॉलेज का समय क्या है?",
          ta: "கல்லூரி நேரம் என்ன?",
          te: "కళాశాల సమయాలు ఏమిటి?",
          bn: "কলেজের সময় কি?",
          mr: "महाविद्यालय वेळ काय आहे?",
        },
        answer: {
          en: "College timings are from 9:00 AM to 4:00 PM on weekdays. The college office remains open from 9:00 AM to 5:00 PM. Library is accessible from 8:00 AM to 6:00 PM.",
          hi: "कॉलेज का समय सप्ताह के दिनों में सुबह 9:00 बजे से शाम 4:00 बजे तक है। कॉलेज कार्यालय सुबह 9:00 बजे से शाम 5:00 बजे तक खुला रहता है। पुस्तकालय सुबह 8:00 बजे से शाम 6:00 बजे तक सुलभ है।",
          ta: "வார நாட்களில் கல்லூரி நேரம் காலை 9:00 மணி முதல் மாலை 4:00 மணி வரை. கல்லூரி அலுவலகம் காலை 9:00 மணி முதல் மாலை 5:00 மணி வரை திறந்திருக்கும். நூலகம் காலை 8:00 மணி முதல் மாலை 6:00 மணி வரை அணுகக்கூடியது.",
          te: "వారం రోజులలో కళాశాల సమయాలు ఉదయం 9:00 నుండి సాయంత్రం 4:00 వరకు. కళాశాల కార్యాలయం ఉదయం 9:00 నుండి సాయంత్రం 5:00 వరకు తెరిచి ఉంటుంది. లైబ్రరీ ఉదయం 8:00 నుండి సాయంత్రం 6:00 వరకు అందుబాటులో ఉంటుంది.",
          bn: "সপ্তাহের দিনে কলেজের সময় সকাল 9:00 টা থেকে বিকাল 4:00 টা পর্যন্ত। কলেজ অফিস সকাল 9:00 টা থেকে বিকাল 5:00 টা পর্যন্ত খোলা থাকে। লাইব্রেরি সকাল 8:00 টা থেকে সন্ধ্যা 6:00 টা পর্যন্ত অ্যাক্সেসযোগ্য।",
          mr: "आठवड्याच्या दिवशी महाविद्यालय वेळ सकाळी 9:00 ते संध्याकाळी 4:00 पर्यंत आहे. महाविद्यालय कार्यालय सकाळी 9:00 ते संध्याकाळी 5:00 पर्यंत उघडे असते. ग्रंथालय सकाळी 8:00 ते संध्याकाळी 6:00 पर्यंत उपलब्ध आहे.",
        },
        keywords: ["timing", "hours", "schedule", "office hours"],
        priority: 5,
        isActive: true,
      },
    ]

    await FAQ.insertMany(sampleFAQs)
    logger.info(`Seeded ${sampleFAQs.length} FAQs successfully`)
  } catch (error) {
    logger.error("Error during FAQ seeding:", error)
  }
}
